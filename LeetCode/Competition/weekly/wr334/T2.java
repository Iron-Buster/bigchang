package LeetCode.Competition.weekly.wr334;

import java.util.Arrays;

public class T2 {

    public int[] divisibilityArray(String word, int m) {
        int n = word.length();
        var ww = word.toCharArray();
        int[] ans = new int[n];
        long x = 0;
        for (int i = 0; i < n; i++) {
            int v = ww[i] - '0';
            x = (x * 10 + m) % m + v; // + m 防止溢出
            if (x % m == 0) ans[i] = 1;
            else            ans[i] = 0;
        }
        return ans;
    }


    public static void main(String[] args) {

        var word = "8316766548327545882525818304103419154500036619624356947532994056485657872109603612687576154102284936004551475530163410268641589251413327907053005293901427590561222767690303771807137440514952666641378866404508930257642260401911250400718708714555154474537830972035234679313745405251092816390896041375661965794902700908565736695836425209701002096881548368117794529679598384336026123602742640806396356450579900451946828891375440696636766910069268146448333572399999802063350468045081830283129476267259205699039795815264160530501389606858152400549348905402079856871483311961812962079395671934249958492034248380067984619450344084769861952852225295885437772121021213667236650512006750823340613319733913241712917798497609970950123838641285306858432353025131655721715368999998701205671374969019982029917049592649290103761712263908668425480199447249690122514056770928036364224859362289032922038939458866381969069420056490609835484943539238765102931622840178409842101070109886725135843830830578124979705118190692081937854069163008609522439156801305813140932914293991725483329251248745851928590533191416359535647950710303719580270999269397755593473547062274273834252186499730134966987429683536907752389220801639529487795665719798380314078379379259483741245090003623380810377012074886103660454622969851376667378398125449042269917196065347799535891417799528452775434297991184941978102763677406860079980694080089621470667273671859550930770895109788241806532823662559999968294629655800582918587947941691094747359222855953464508502151372512600406850926918742450309614147104610778296794837677891802885259401367689825185754485863258200261724900982098646302399176542171951815997352709448229897319195572394435397026889729299999988369887498819475602455590965764953850029536684652269092430801294636562974722434310750761805256074165315150481419900685015151066451160999999430532561013174314140219880619892668062449152248831904063365367222090077487246606764610131841683508803861936388550864697207963538340167671716495534854807505213717488380218311679963757192313038791317865111167846566488248587076736381797757086921040576362812185470218563003344812125970844882105825611585994201305931693357435367643129413737428638646143614037248709598209288479978487510761652974473161540670216214492404200578083369773130719224748762985163116910625725756064340806215268785168666676590604027099999778893192373004412133654348850998168871253316427087993665739528475686022161484875646147051987796368167993854003869051610030567877071844428235828824562909197713994404726372909820310975633628200077183705722377284428218563023192757759241277509999998914860955462725210792350498520218677263682072726369382713190873963500973422919006457811114187083640979205673704595348227590254047364085780719301164809316063722853689571488571994801865640958199999915681418168822194569899999990580978591986911819935376053501966310475984783599350303890856706648438210565287646553880945332209262880204366951541730523530430982947347564349732780186513226705160150047875399518158873275960829766444739438400479858213759673434292621372733125882994579999988396808289371109116408599055763867361732553440024514776712636684949189806665524677466113778050181515625692815978759549981047747515190078114188526933330471637515353632588560126998260680034848281436106104560987472515225221040358460942449930541585738802217052726402346708632366565928566156940216537709110068982581278565230190176496398792943747419621274437893243941853956070977431419983608504395757630607999998195987841867864398996502377481203539793406655932653490070380878805290145169814340607572910752005796581208458864604854881995666786406732318664085128658608104370736477476318182433485626150086988204655975035249166769003839179284765394779865182955128283809216959636442876183827993962295007982813207674565775208708658609756723845192859457296499649645963096541093904820090161342573890244519213008222786518621302985534328527430827245786699999795184532729522308359378466346040703618119253408575328639316609498287720541770853281020286494403761649342717470983700764723150817616065764258870492848102190723447250142730312533864367777016343287494280921455226178460488104799477771434558864852508175717970386795687026801648191926901116364789778624663875184634560360933543137222795367313647118035403418328653479884088106842008922695871882641271237010423645132335492880024916623338429463552741681453700904667154359583207012600898302486746704066299145714657537684508040203565333784565233493105562187646743645864093113886876656572139403448596000798200306348956781348820964600212096819461959532090801899106912105266369407210799087538199358632354009670385146948588316096540562840745407307232931818305614384364551097376189835689117781584482234249459850610499999646619641277121026194105937534379837404971648742845552632621053560209345829423279740083888356662442990377365359391282306698542408532809708594860536567539183321278515542593467215394033054849314530625377064307814353119653830413257069988228985681020243913101624777989008659217801940302968431460386803942936646925214111744655097286899333201958407308044153761290864760970367417792944732124393899130844080204541173144307827577488519953586599521958262722326876703715243456885662350928418264503271449638063971710205946911782401313169435896207258632747476366731260242160058972013297898974342525761292554187893922185323159873807393900086949760457622574488395626831718530343504976979711056053637494556653870585842281821164969785839204623030327082406670484907057655138188881675303446767549003193721249135052579763002602570142041928283419544398784224583249048525869575812115361695982823058793389073270006687777217108477723770196104233291999995870650516479912154271979641654693287484983005132155151184576212869773028977028430521714514706403295365735663691416369885960662260175749999994075669158322742855832334052943766849356706488293389560903124032492296128757318354647218172071880346218436020026890265971112452643641155982358054817499999936094558903182202451162649597329740312066576502051633813380838513892986081604776813182605224026692268852094591249053876748212752418317437664279769092198740683125999177854155615070640967280069465491455382319695814860854336531122280746195311550231704878868188220984401585719244490002667803609780956381624609999986538183440561820362820733303182809290095804372310245495155271806550244322399081826603965798974726902805442475652448273446838400619164275678833999999396737067542329254594507659644698352572408566255313827064549916852230345241793220273512589692489285774393062899798909638443101181337516163633824960091947851680200133176999709001509693183731652208847726365491467350467828776423300378806855454930083164485009605784429454882305186573964114408585306815055971397830172790136949211247747724734972160856626915405189872405083187874751692188122297020379114267201836376009985367008670266746897546879674886719097554590876268205703615125103815678479828875999997726305118588529645950385770192787626284990561341325114827416986589088298239225869498675229321649999995443526546024531074285975956345030847147911343948576416263105764449693467100922608054235973383174491432882954825421766448032037396313808099605848874729959112311542084829613169999992398309675772535834641465540849812747240171725203185205010053563123746241457";
        int m = 999999996;
        System.out.println(Arrays.toString(new T2().divisibilityArray(word, m)));
    }
}
